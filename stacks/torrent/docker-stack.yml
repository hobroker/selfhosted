version: '3.3'
services:
  qbittorrent:
    image: ghcr.io/linuxserver/qbittorrent:latest
    environment:
      PGID: '1000'
      PUID: '1000'
      TZ: Europe/Chisinau
      WEBUI_PORT: '8112'
    ports:
      - 6881:6881
      - 6881:6881/udp
      - 8112:8112
    volumes:
      - /appdata/qbittorrent:/config
      - /storage/downloads:/downloads
    networks:
      - default
    logging:
      driver: json-file
    deploy:
      placement:
        constraints:
          - node.role == manager
  jackett:
    image: ghcr.io/linuxserver/jackett:latest
    environment:
      PGID: '1000'
      PUID: '1000'
      TZ: Europe/Chisinau
    ports:
      - 9117:9117
    volumes:
      - /appdata/jackett:/config
      - /storage/downloads/torrents/:/downloads
    networks:
      - default
    logging:
      driver: json-file
    deploy:
      placement:
        constraints:
          - node.role ==manager
networks:
  default:
    driver: overlay
